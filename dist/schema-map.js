'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _pgFormat = require('pg-format');

var _pgFormat2 = _interopRequireDefault(_pgFormat);

var _wellknown = require('wellknown');

var _wellknown2 = _interopRequireDefault(_wellknown);

var _fulcrumDesktopPlugin = require('fulcrum-desktop-plugin');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function toNumber(value) {
  return value != null && !Array.isArray(value) && !isNaN(+value) && Number.isFinite(+value) ? +value : null;
}

class SchemaMap {
  // * force 2d
  // * remove duplicate vertices
  static geomFromGeoJSON(geojsonGeometry) {
    if (geojsonGeometry == null) {
      return null;
    }

    return `ST_RemoveRepeatedPoints(ST_Force2D(ST_GeomFromText(${(0, _pgFormat2.default)('%L', _wellknown2.default.stringify(geojsonGeometry))}, 4326)))`;
  }

  // * force to multi
  // * force 2d
  // * remove duplicate vertices
  static multiGeomFromGeoJSON(geojsonGeometry) {
    if (geojsonGeometry == null) {
      return null;
    }

    return `ST_RemoveRepeatedPoints(ST_Force2D(ST_Multi(ST_GeomFromText(${(0, _pgFormat2.default)('%L', _wellknown2.default.stringify(geojsonGeometry))}, 4326))))`;
  }

  static geometry(latitude, longitude) {
    return { raw: this.geomFromGeoJSON({ type: 'Point', coordinates: [+longitude, +latitude] }) };
  }

  static trackGeometry(trackJSON) {
    if (trackJSON) {
      const track = new _fulcrumDesktopPlugin.core.Track('video', trackJSON);

      const geoJSON = track.toGeoJSONMultiLineString();

      if (geoJSON && geoJSON.geometry && geoJSON.geometry.coordinates.length && geoJSON.geometry.coordinates[0].length > 1) {
        return { raw: this.multiGeomFromGeoJSON(geoJSON) };
      }
    }

    return null;
  }

  static jsonValue(value) {
    return value != null ? JSON.stringify(value) : null;
  }

  static record(row, values) {
    // records are special since they're already table-ized in a different code path.
    return {
      row_id: row.rowID,
      row_resource_id: values.record_resource_id,
      form_id: row._formRowID,
      form_resource_id: row.formID,
      project_id: row._projectRowID,
      project_resource_id: row._projectID,
      assigned_to_id: row._assignedToRowID,
      assigned_to_resource_id: row._assignedToID,
      status: values.status,
      latitude: values.latitude,
      longitude: values.longitude,
      created_at: values.created_at,
      updated_at: values.updated_at,
      version: values.version,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      server_created_at: values.server_created_at,
      server_updated_at: values.server_updated_at,
      record_index_text: values.record_index_text,
      record_index: values.record_index,
      geometry: values.geometry,
      altitude: values.altitude,
      speed: values.speed,
      course: values.course,
      horizontal_accuracy: values.horizontal_accuracy,
      vertical_accuracy: values.vertical_accuracy,
      form_values: values.form_values,
      changeset_id: row._changesetRowID,
      changeset_resource_id: row._changesetID,
      title: row.displayValue,
      created_latitude: values.created_latitude,
      created_longitude: values.created_longitude,
      created_geometry: values.created_geometry,
      created_altitude: values.created_altitude,
      created_horizontal_accuracy: values.created_horizontal_accuracy,
      updated_latitude: values.updated_latitude,
      updated_longitude: values.updated_longitude,
      updated_geometry: values.updated_geometry,
      updated_altitude: values.updated_altitude,
      updated_horizontal_accuracy: values.updated_horizontal_accuracy,
      created_duration: values.created_duration,
      updated_duration: values.updated_duration,
      edited_duration: values.edited_duration
    };
  }

  static photo(row) {
    const hasLocation = row._latitude != null && row._longitude != null;

    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      exif: this.jsonValue(row._exif),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: hasLocation ? this.geometry(row._latitude, row._longitude) : null,
      latitude: hasLocation ? row._latitude : null,
      longitude: hasLocation ? row._longitude : null,
      altitude: toNumber(row._altitude),
      direction: toNumber(row._direction),
      accuracy: toNumber(row._accuracy),
      width: row._width,
      height: row._height,
      make: row._make,
      model: row._model,
      software: row._software,
      date_time: row._dateTime
    };
  }

  static video(row) {
    return {
      row_id: row._rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      has_track: row._hasTrack,
      track: this.jsonValue(row._trackJSON),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: this.trackGeometry(row._trackJSON),
      width: row._width,
      height: row._height,
      duration: row._duration,
      bit_rate: row._bitRate
    };
  }

  static audio(row) {
    return {
      row_id: row._rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      has_track: row._hasTrack,
      track: this.jsonValue(row._trackJSON),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: this.trackGeometry(row._trackJSON),
      duration: row._duration,
      bit_rate: row._bitRate
    };
  }

  static signature(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed
    };
  }

  static changeset(row) {
    const geometry = this.geomFromGeoJSON(row.boundingBoxAsGeoJSON);

    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      closed_at: row._closedAt,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      closed_by_id: row._closedByRowID,
      closed_by_resource_id: row._closedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      min_lat: row._minLat,
      max_lat: row._maxLat,
      min_lon: row._minLon,
      max_lon: row._maxLon,
      number_of_changes: row._numberOfChanges,
      number_of_creates: row._numberOfCreates,
      number_of_updates: row._numberOfUpdates,
      number_of_deletes: row._numberOfDeletes,
      metadata_index_text: row._metadataIndexText,
      metadata_index: { raw: `to_tsvector(${(0, _pgFormat2.default)('%L', row._metadataIndexText)})` },
      bounding_box: geometry ? { raw: this.geomFromGeoJSON(row.boundingBoxAsGeoJSON) } : null
    };
  }

  static choiceList(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      items: this.jsonValue(row._choicesJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static classificationSet(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      items: this.jsonValue(row._itemsJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static form(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      elements: this.jsonValue(row._elementsJSON),
      status: row._status,
      status_field: this.jsonValue(row._statusFieldJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt,
      auto_assign: row._autoAssign,
      title_field_keys: this.jsonValue(row._titleFieldKeys),
      hidden_on_dashboard: row._hiddenOnDashboard,
      geometry_types: this.jsonValue(row._geometryTypes),
      geometry_required: row._geometryRequired,
      script: row._script,
      image: row._image,
      projects_enabled: !!row._projectEnabled,
      assignment_enabled: !!row._assignmentEnabled
    };
  }

  static project(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static role(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt,
      is_system: row._isSystem,
      is_default: row._isDefault,
      can_manage_subscription: row.canManageSubscription,
      can_update_organization: row.canUpdateOrganization,
      can_manage_members: row.canManageMembers,
      can_manage_roles: row.canManageRoles,
      can_manage_apps: row.canManageApps,
      can_manage_projects: row.canManageProjects,
      can_manage_choice_lists: row.canManageChoiceLists,
      can_manage_classification_sets: row.canManageClassificationSets,
      can_create_records: row.canCreateRecords,
      can_update_records: row.canUpdateRecords,
      can_delete_records: row.canDeleteRecords,
      can_change_status: row.canChangeStatus,
      can_change_project: row.canChangeProject,
      can_assign_records: row.canAssignRecords,
      can_import_records: row.canImportRecords,
      can_export_records: row.canExportRecords,
      can_run_reports: row.canRunReports
    };
  }

  static membership(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      user_resource_id: row._userID,
      first_name: row._firstName,
      last_name: row._lastName,
      name: (row._firstName || '') + ' ' + (row._lastName || ''),
      email: row._email,
      role_id: row._roleRowID,
      role_resource_id: row._roleID,
      status: row.status,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }
}
exports.default = SchemaMap;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NjaGVtYS1tYXAuanMiXSwibmFtZXMiOlsidG9OdW1iZXIiLCJ2YWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImlzTmFOIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJTY2hlbWFNYXAiLCJnZW9tRnJvbUdlb0pTT04iLCJnZW9qc29uR2VvbWV0cnkiLCJzdHJpbmdpZnkiLCJtdWx0aUdlb21Gcm9tR2VvSlNPTiIsImdlb21ldHJ5IiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJyYXciLCJ0eXBlIiwiY29vcmRpbmF0ZXMiLCJ0cmFja0dlb21ldHJ5IiwidHJhY2tKU09OIiwidHJhY2siLCJUcmFjayIsImdlb0pTT04iLCJ0b0dlb0pTT05NdWx0aUxpbmVTdHJpbmciLCJsZW5ndGgiLCJqc29uVmFsdWUiLCJKU09OIiwicmVjb3JkIiwicm93IiwidmFsdWVzIiwicm93X2lkIiwicm93SUQiLCJyb3dfcmVzb3VyY2VfaWQiLCJyZWNvcmRfcmVzb3VyY2VfaWQiLCJmb3JtX2lkIiwiX2Zvcm1Sb3dJRCIsImZvcm1fcmVzb3VyY2VfaWQiLCJmb3JtSUQiLCJwcm9qZWN0X2lkIiwiX3Byb2plY3RSb3dJRCIsInByb2plY3RfcmVzb3VyY2VfaWQiLCJfcHJvamVjdElEIiwiYXNzaWduZWRfdG9faWQiLCJfYXNzaWduZWRUb1Jvd0lEIiwiYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQiLCJfYXNzaWduZWRUb0lEIiwic3RhdHVzIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJ2ZXJzaW9uIiwiY3JlYXRlZF9ieV9pZCIsIl9jcmVhdGVkQnlSb3dJRCIsImNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQiLCJfY3JlYXRlZEJ5SUQiLCJ1cGRhdGVkX2J5X2lkIiwiX3VwZGF0ZWRCeVJvd0lEIiwidXBkYXRlZF9ieV9yZXNvdXJjZV9pZCIsIl91cGRhdGVkQnlJRCIsInNlcnZlcl9jcmVhdGVkX2F0Iiwic2VydmVyX3VwZGF0ZWRfYXQiLCJyZWNvcmRfaW5kZXhfdGV4dCIsInJlY29yZF9pbmRleCIsImFsdGl0dWRlIiwic3BlZWQiLCJjb3Vyc2UiLCJob3Jpem9udGFsX2FjY3VyYWN5IiwidmVydGljYWxfYWNjdXJhY3kiLCJmb3JtX3ZhbHVlcyIsImNoYW5nZXNldF9pZCIsIl9jaGFuZ2VzZXRSb3dJRCIsImNoYW5nZXNldF9yZXNvdXJjZV9pZCIsIl9jaGFuZ2VzZXRJRCIsInRpdGxlIiwiZGlzcGxheVZhbHVlIiwiY3JlYXRlZF9sYXRpdHVkZSIsImNyZWF0ZWRfbG9uZ2l0dWRlIiwiY3JlYXRlZF9nZW9tZXRyeSIsImNyZWF0ZWRfYWx0aXR1ZGUiLCJjcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3kiLCJ1cGRhdGVkX2xhdGl0dWRlIiwidXBkYXRlZF9sb25naXR1ZGUiLCJ1cGRhdGVkX2dlb21ldHJ5IiwidXBkYXRlZF9hbHRpdHVkZSIsInVwZGF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeSIsImNyZWF0ZWRfZHVyYXRpb24iLCJ1cGRhdGVkX2R1cmF0aW9uIiwiZWRpdGVkX2R1cmF0aW9uIiwicGhvdG8iLCJoYXNMb2NhdGlvbiIsIl9sYXRpdHVkZSIsIl9sb25naXR1ZGUiLCJpZCIsImFjY2Vzc19rZXkiLCJyZWNvcmRfaWQiLCJfcmVjb3JkUm93SUQiLCJfcmVjb3JkSUQiLCJfZm9ybUlEIiwiZXhpZiIsIl9leGlmIiwiZmlsZV9zaXplIiwiX2ZpbGVTaXplIiwiX2NyZWF0ZWRBdCIsIl91cGRhdGVkQXQiLCJmaWxlIiwiX2ZpbGVQYXRoIiwiY29udGVudF90eXBlIiwiX2NvbnRlbnRUeXBlIiwiaXNfdXBsb2FkZWQiLCJfaXNVcGxvYWRlZCIsImlzX3N0b3JlZCIsIl9pc1N0b3JlZCIsImlzX3Byb2Nlc3NlZCIsIl9pc1Byb2Nlc3NlZCIsIl9hbHRpdHVkZSIsImRpcmVjdGlvbiIsIl9kaXJlY3Rpb24iLCJhY2N1cmFjeSIsIl9hY2N1cmFjeSIsIndpZHRoIiwiX3dpZHRoIiwiaGVpZ2h0IiwiX2hlaWdodCIsIm1ha2UiLCJfbWFrZSIsIm1vZGVsIiwiX21vZGVsIiwic29mdHdhcmUiLCJfc29mdHdhcmUiLCJkYXRlX3RpbWUiLCJfZGF0ZVRpbWUiLCJ2aWRlbyIsIl9yb3dJRCIsIm1ldGFkYXRhIiwiX21ldGFkYXRhIiwiaGFzX3RyYWNrIiwiX2hhc1RyYWNrIiwiX3RyYWNrSlNPTiIsImR1cmF0aW9uIiwiX2R1cmF0aW9uIiwiYml0X3JhdGUiLCJfYml0UmF0ZSIsImF1ZGlvIiwic2lnbmF0dXJlIiwiY2hhbmdlc2V0IiwiYm91bmRpbmdCb3hBc0dlb0pTT04iLCJjbG9zZWRfYXQiLCJfY2xvc2VkQXQiLCJjbG9zZWRfYnlfaWQiLCJfY2xvc2VkQnlSb3dJRCIsImNsb3NlZF9ieV9yZXNvdXJjZV9pZCIsIl9jbG9zZWRCeUlEIiwibWluX2xhdCIsIl9taW5MYXQiLCJtYXhfbGF0IiwiX21heExhdCIsIm1pbl9sb24iLCJfbWluTG9uIiwibWF4X2xvbiIsIl9tYXhMb24iLCJudW1iZXJfb2ZfY2hhbmdlcyIsIl9udW1iZXJPZkNoYW5nZXMiLCJudW1iZXJfb2ZfY3JlYXRlcyIsIl9udW1iZXJPZkNyZWF0ZXMiLCJudW1iZXJfb2ZfdXBkYXRlcyIsIl9udW1iZXJPZlVwZGF0ZXMiLCJudW1iZXJfb2ZfZGVsZXRlcyIsIl9udW1iZXJPZkRlbGV0ZXMiLCJtZXRhZGF0YV9pbmRleF90ZXh0IiwiX21ldGFkYXRhSW5kZXhUZXh0IiwibWV0YWRhdGFfaW5kZXgiLCJib3VuZGluZ19ib3giLCJjaG9pY2VMaXN0IiwibmFtZSIsIl9uYW1lIiwiZGVzY3JpcHRpb24iLCJfZGVzY3JpcHRpb24iLCJfdmVyc2lvbiIsIml0ZW1zIiwiX2Nob2ljZXNKU09OIiwiZGVsZXRlZF9hdCIsIl9kZWxldGVkQXQiLCJjbGFzc2lmaWNhdGlvblNldCIsIl9pdGVtc0pTT04iLCJmb3JtIiwiZWxlbWVudHMiLCJfZWxlbWVudHNKU09OIiwiX3N0YXR1cyIsInN0YXR1c19maWVsZCIsIl9zdGF0dXNGaWVsZEpTT04iLCJhdXRvX2Fzc2lnbiIsIl9hdXRvQXNzaWduIiwidGl0bGVfZmllbGRfa2V5cyIsIl90aXRsZUZpZWxkS2V5cyIsImhpZGRlbl9vbl9kYXNoYm9hcmQiLCJfaGlkZGVuT25EYXNoYm9hcmQiLCJnZW9tZXRyeV90eXBlcyIsIl9nZW9tZXRyeVR5cGVzIiwiZ2VvbWV0cnlfcmVxdWlyZWQiLCJfZ2VvbWV0cnlSZXF1aXJlZCIsInNjcmlwdCIsIl9zY3JpcHQiLCJpbWFnZSIsIl9pbWFnZSIsInByb2plY3RzX2VuYWJsZWQiLCJfcHJvamVjdEVuYWJsZWQiLCJhc3NpZ25tZW50X2VuYWJsZWQiLCJfYXNzaWdubWVudEVuYWJsZWQiLCJwcm9qZWN0Iiwicm9sZSIsImlzX3N5c3RlbSIsIl9pc1N5c3RlbSIsImlzX2RlZmF1bHQiLCJfaXNEZWZhdWx0IiwiY2FuX21hbmFnZV9zdWJzY3JpcHRpb24iLCJjYW5NYW5hZ2VTdWJzY3JpcHRpb24iLCJjYW5fdXBkYXRlX29yZ2FuaXphdGlvbiIsImNhblVwZGF0ZU9yZ2FuaXphdGlvbiIsImNhbl9tYW5hZ2VfbWVtYmVycyIsImNhbk1hbmFnZU1lbWJlcnMiLCJjYW5fbWFuYWdlX3JvbGVzIiwiY2FuTWFuYWdlUm9sZXMiLCJjYW5fbWFuYWdlX2FwcHMiLCJjYW5NYW5hZ2VBcHBzIiwiY2FuX21hbmFnZV9wcm9qZWN0cyIsImNhbk1hbmFnZVByb2plY3RzIiwiY2FuX21hbmFnZV9jaG9pY2VfbGlzdHMiLCJjYW5NYW5hZ2VDaG9pY2VMaXN0cyIsImNhbl9tYW5hZ2VfY2xhc3NpZmljYXRpb25fc2V0cyIsImNhbk1hbmFnZUNsYXNzaWZpY2F0aW9uU2V0cyIsImNhbl9jcmVhdGVfcmVjb3JkcyIsImNhbkNyZWF0ZVJlY29yZHMiLCJjYW5fdXBkYXRlX3JlY29yZHMiLCJjYW5VcGRhdGVSZWNvcmRzIiwiY2FuX2RlbGV0ZV9yZWNvcmRzIiwiY2FuRGVsZXRlUmVjb3JkcyIsImNhbl9jaGFuZ2Vfc3RhdHVzIiwiY2FuQ2hhbmdlU3RhdHVzIiwiY2FuX2NoYW5nZV9wcm9qZWN0IiwiY2FuQ2hhbmdlUHJvamVjdCIsImNhbl9hc3NpZ25fcmVjb3JkcyIsImNhbkFzc2lnblJlY29yZHMiLCJjYW5faW1wb3J0X3JlY29yZHMiLCJjYW5JbXBvcnRSZWNvcmRzIiwiY2FuX2V4cG9ydF9yZWNvcmRzIiwiY2FuRXhwb3J0UmVjb3JkcyIsImNhbl9ydW5fcmVwb3J0cyIsImNhblJ1blJlcG9ydHMiLCJtZW1iZXJzaGlwIiwidXNlcl9yZXNvdXJjZV9pZCIsIl91c2VySUQiLCJmaXJzdF9uYW1lIiwiX2ZpcnN0TmFtZSIsImxhc3RfbmFtZSIsIl9sYXN0TmFtZSIsImVtYWlsIiwiX2VtYWlsIiwicm9sZV9pZCIsIl9yb2xlUm93SUQiLCJyb2xlX3Jlc291cmNlX2lkIiwiX3JvbGVJRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUEsU0FBU0EsUUFBVCxDQUFrQkMsS0FBbEIsRUFBeUI7QUFDdkIsU0FBT0EsU0FBUyxJQUFULElBQWlCLENBQUNDLE1BQU1DLE9BQU4sQ0FBY0YsS0FBZCxDQUFsQixJQUEwQyxDQUFDRyxNQUFNLENBQUNILEtBQVAsQ0FBM0MsSUFBNERJLE9BQU9DLFFBQVAsQ0FBZ0IsQ0FBQ0wsS0FBakIsQ0FBNUQsR0FBc0YsQ0FBQ0EsS0FBdkYsR0FBK0YsSUFBdEc7QUFDRDs7QUFFYyxNQUFNTSxTQUFOLENBQWdCO0FBQzdCO0FBQ0E7QUFDQSxTQUFPQyxlQUFQLENBQXVCQyxlQUF2QixFQUF3QztBQUN0QyxRQUFJQSxtQkFBbUIsSUFBdkIsRUFBNkI7QUFDM0IsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsV0FBUSxzREFBc0Qsd0JBQVMsSUFBVCxFQUFlLG9CQUFJQyxTQUFKLENBQWNELGVBQWQsQ0FBZixDQUFnRCxXQUE5RztBQUNEOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFNBQU9FLG9CQUFQLENBQTRCRixlQUE1QixFQUE2QztBQUMzQyxRQUFJQSxtQkFBbUIsSUFBdkIsRUFBNkI7QUFDM0IsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsV0FBUSwrREFBK0Qsd0JBQVMsSUFBVCxFQUFlLG9CQUFJQyxTQUFKLENB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QixHQUF6QixJQUFnQy9OLElBQUlpTyxTQUFKLElBQWlCLEVBQWpELENBTkQ7QUFPTEMsYUFBT2xPLElBQUltTyxNQVBOO0FBUUxDLGVBQVNwTyxJQUFJcU8sVUFSUjtBQVNMQyx3QkFBa0J0TyxJQUFJdU8sT0FUakI7QUFVTHJOLGNBQVFsQixJQUFJa0IsTUFWUDtBQVdMQyxrQkFBWW5CLElBQUl5RSxVQVhYO0FBWUxyRCxrQkFBWXBCLElBQUkwRSxVQVpYO0FBYUw2RSxrQkFBWXZKLElBQUl3SjtBQWJYLEtBQVA7QUFlRDtBQTVXNEI7a0JBQVY3SyxTIiwiZmlsZSI6InNjaGVtYS1tYXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGdmb3JtYXQgZnJvbSAncGctZm9ybWF0JztcbmltcG9ydCB3a3QgZnJvbSAnd2VsbGtub3duJztcbmltcG9ydCB7IGNvcmUgfSBmcm9tICdmdWxjcnVtJztcblxuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmICFpc05hTigrdmFsdWUpICYmIE51bWJlci5pc0Zpbml0ZSgrdmFsdWUpID8gK3ZhbHVlIDogbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NoZW1hTWFwIHtcbiAgLy8gKiBmb3JjZSAyZFxuICAvLyAqIHJlbW92ZSBkdXBsaWNhdGUgdmVydGljZXNcbiAgc3RhdGljIGdlb21Gcm9tR2VvSlNPTihnZW9qc29uR2VvbWV0cnkpIHtcbiAgICBpZiAoZ2VvanNvbkdlb21ldHJ5ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBgU1RfUmVtb3ZlUmVwZWF0ZWRQb2ludHMoU1RfRm9yY2UyRChTVF9HZW9tRnJvbVRleHQoJHsgcGdmb3JtYXQoJyVMJywgd2t0LnN0cmluZ2lmeShnZW9qc29uR2VvbWV0cnkpKSB9LCA0MzI2KSkpYDtcbiAgfVxuXG4gIC8vICogZm9yY2UgdG8gbXVsdGlcbiAgLy8gKiBmb3JjZSAyZFxuICAvLyAqIHJlbW92ZSBkdXBsaWNhdGUgdmVydGljZXNcbiAgc3RhdGljIG11bHRpR2VvbUZyb21HZW9KU09OKGdlb2pzb25HZW9tZXRyeSkge1xuICAgIGlmIChnZW9qc29uR2VvbWV0cnkgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGBTVF9SZW1vdmVSZXBlYXRlZFBvaW50cyhTVF9Gb3JjZTJEKFNUX011bHRpKFNUX0dlb21Gcm9tVGV4dCgkeyBwZ2Zvcm1hdCgnJUwnLCB3a3Quc3RyaW5naWZ5KGdlb2pzb25HZW9tZXRyeSkpIH0sIDQzMjYpKSkpYDtcbiAgfVxuXG4gIHN0YXRpYyBnZW9tZXRyeShsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XG4gICAgcmV0dXJuIHsgcmF3OiB0aGlzLmdlb21Gcm9tR2VvSlNPTih7dHlwZTogJ1BvaW50JywgY29vcmRpbmF0ZXM6IFsgK2xvbmdpdHVkZSwgK2xhdGl0dWRlIF19KSB9O1xuICB9XG5cbiAgc3RhdGljIHRyYWNrR2VvbWV0cnkodHJhY2tKU09OKSB7XG4gICAgaWYgKHRyYWNrSlNPTikge1xuICAgICAgY29uc3QgdHJhY2sgPSBuZXcgY29yZS5UcmFjaygndmlkZW8nLCB0cmFja0pTT04pO1xuXG4gICAgICBjb25zdCBnZW9KU09OID0gdHJhY2sudG9HZW9KU09OTXVsdGlMaW5lU3RyaW5nKCk7XG5cbiAgICAgIGlmIChnZW9KU09OICYmIGdlb0pTT04uZ2VvbWV0cnkgJiYgZ2VvSlNPTi5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGggJiYgZ2VvSlNPTi5nZW9tZXRyeS5jb29yZGluYXRlc1swXS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVybiB7IHJhdzogdGhpcy5tdWx0aUdlb21Gcm9tR2VvSlNPTihnZW9KU09OKSB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3RhdGljIGpzb25WYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyByZWNvcmQocm93LCB2YWx1ZXMpIHtcbiAgICAvLyByZWNvcmRzIGFyZSBzcGVjaWFsIHNpbmNlIHRoZXkncmUgYWxyZWFkeSB0YWJsZS1pemVkIGluIGEgZGlmZmVyZW50IGNvZGUgcGF0aC5cbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHZhbHVlcy5yZWNvcmRfcmVzb3VyY2VfaWQsXG4gICAgICBmb3JtX2lkOiByb3cuX2Zvcm1Sb3dJRCxcbiAgICAgIGZvcm1fcmVzb3VyY2VfaWQ6IHJvdy5mb3JtSUQsXG4gICAgICBwcm9qZWN0X2lkOiByb3cuX3Byb2plY3RSb3dJRCxcbiAgICAgIHByb2plY3RfcmVzb3VyY2VfaWQ6IHJvdy5fcHJvamVjdElELFxuICAgICAgYXNzaWduZWRfdG9faWQ6IHJvdy5fYXNzaWduZWRUb1Jvd0lELFxuICAgICAgYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQ6IHJvdy5fYXNzaWduZWRUb0lELFxuICAgICAgc3RhdHVzOiB2YWx1ZXMuc3RhdHVzLFxuICAgICAgbGF0aXR1ZGU6IHZhbHVlcy5sYXRpdHVkZSxcbiAgICAgIGxvbmdpdHVkZTogdmFsdWVzLmxvbmdpdHVkZSxcbiAgICAgIGNyZWF0ZWRfYXQ6IHZhbHVlcy5jcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdDogdmFsdWVzLnVwZGF0ZWRfYXQsXG4gICAgICB2ZXJzaW9uOiB2YWx1ZXMudmVyc2lvbixcbiAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJvdy5fY3JlYXRlZEJ5Um93SUQsXG4gICAgICBjcmVhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX2NyZWF0ZWRCeUlELFxuICAgICAgdXBkYXRlZF9ieV9pZDogcm93Ll91cGRhdGVkQnlSb3dJRCxcbiAgICAgIHVwZGF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fdXBkYXRlZEJ5SUQsXG4gICAgICBzZXJ2ZXJfY3JlYXRlZF9hdDogdmFsdWVzLnNlcnZlcl9jcmVhdGVkX2F0LFxuICAgICAgc2VydmVyX3VwZGF0ZWRfYXQ6IHZhbHVlcy5zZXJ2ZXJfdXBkYXRlZF9hdCxcbiAgICAgIHJlY29yZF9pbmRleF90ZXh0OiB2YWx1ZXMucmVjb3JkX2luZGV4X3RleHQsXG4gICAgICByZWNvcmRfaW5kZXg6IHZhbHVlcy5yZWNvcmRfaW5kZXgsXG4gICAgICBnZW9tZXRyeTogdmFsdWVzLmdlb21ldHJ5LFxuICAgICAgYWx0aXR1ZGU6IHZhbHVlcy5hbHRpdHVkZSxcbiAgICAgIHNwZWVkOiB2YWx1ZXMuc3BlZWQsXG4gICAgICBjb3Vyc2U6IHZhbHVlcy5jb3Vyc2UsXG4gICAgICBob3Jpem9udGFsX2FjY3VyYWN5OiB2YWx1ZXMuaG9yaXpvbnRhbF9hY2N1cmFjeSxcbiAgICAgIHZlcnRpY2FsX2FjY3VyYWN5OiB2YWx1ZXMudmVydGljYWxfYWNjdXJhY3ksXG4gICAgICBmb3JtX3ZhbHVlczogdmFsdWVzLmZvcm1fdmFsdWVzLFxuICAgICAgY2hhbmdlc2V0X2lkOiByb3cuX2NoYW5nZXNldFJvd0lELFxuICAgICAgY2hhbmdlc2V0X3Jlc291cmNlX2lkOiByb3cuX2NoYW5nZXNldElELFxuICAgICAgdGl0bGU6IHJvdy5kaXNwbGF5VmFsdWUsXG4gICAgICBjcmVhdGVkX2xhdGl0dWRlOiB2YWx1ZXMuY3JlYXRlZF9sYXRpdHVkZSxcbiAgICAgIGNyZWF0ZWRfbG9uZ2l0dWRlOiB2YWx1ZXMuY3JlYXRlZF9sb25naXR1ZGUsXG4gICAgICBjcmVhdGVkX2dlb21ldHJ5OiB2YWx1ZXMuY3JlYXRlZF9nZW9tZXRyeSxcbiAgICAgIGNyZWF0ZWRfYWx0aXR1ZGU6IHZhbHVlcy5jcmVhdGVkX2FsdGl0dWRlLFxuICAgICAgY3JlYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5OiB2YWx1ZXMuY3JlYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5LFxuICAgICAgdXBkYXRlZF9sYXRpdHVkZTogdmFsdWVzLnVwZGF0ZWRfbGF0aXR1ZGUsXG4gICAgICB1cGRhdGVkX2xvbmdpdHVkZTogdmFsdWVzLnVwZGF0ZWRfbG9uZ2l0dWRlLFxuICAgICAgdXBkYXRlZF9nZW9tZXRyeTogdmFsdWVzLnVwZGF0ZWRfZ2VvbWV0cnksXG4gICAgICB1cGRhdGVkX2FsdGl0dWRlOiB2YWx1ZXMudXBkYXRlZF9hbHRpdHVkZSxcbiAgICAgIHVwZGF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeTogdmFsdWVzLnVwZGF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeSxcbiAgICAgIGNyZWF0ZWRfZHVyYXRpb246IHZhbHVlcy5jcmVhdGVkX2R1cmF0aW9uLFxuICAgICAgdXBkYXRlZF9kdXJhdGlvbjogdmFsdWVzLnVwZGF0ZWRfZHVyYXRpb24sXG4gICAgICBlZGl0ZWRfZHVyYXRpb246IHZhbHVlcy5lZGl0ZWRfZHVyYXRpb25cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHBob3RvKHJvdykge1xuICAgIGNvbnN0IGhhc0xvY2F0aW9uID0gcm93Ll9sYXRpdHVkZSAhPSBudWxsICYmIHJvdy5fbG9uZ2l0dWRlICE9IG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIGFjY2Vzc19rZXk6IHJvdy5pZCxcbiAgICAgIHJlY29yZF9pZDogcm93Ll9yZWNvcmRSb3dJRCxcbiAgICAgIHJlY29yZF9yZXNvdXJjZV9pZDogcm93Ll9yZWNvcmRJRCxcbiAgICAgIGZvcm1faWQ6IHJvdy5fZm9ybVJvd0lELFxuICAgICAgZm9ybV9yZXNvdXJjZV9pZDogcm93Ll9mb3JtSUQsXG4gICAgICBleGlmOiB0aGlzLmpzb25WYWx1ZShyb3cuX2V4aWYpLFxuICAgICAgZmlsZV9zaXplOiByb3cuX2ZpbGVTaXplLFxuICAgICAgY3JlYXRlZF9ieV9pZDogcm93Ll9jcmVhdGVkQnlSb3dJRCxcbiAgICAgIGNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fY3JlYXRlZEJ5SUQsXG4gICAgICB1cGRhdGVkX2J5X2lkOiByb3cuX3VwZGF0ZWRCeVJvd0lELFxuICAgICAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll91cGRhdGVkQnlJRCxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBmaWxlOiByb3cuX2ZpbGVQYXRoLFxuICAgICAgY29udGVudF90eXBlOiByb3cuX2NvbnRlbnRUeXBlLFxuICAgICAgaXNfdXBsb2FkZWQ6IHJvdy5faXNVcGxvYWRlZCxcbiAgICAgIGlzX3N0b3JlZDogcm93Ll9pc1N0b3JlZCxcbiAgICAgIGlzX3Byb2Nlc3NlZDogcm93Ll9pc1Byb2Nlc3NlZCxcbiAgICAgIGdlb21ldHJ5OiBoYXNMb2NhdGlvbiA/IHRoaXMuZ2VvbWV0cnkocm93Ll9sYXRpdHVkZSwgcm93Ll9sb25naXR1ZGUpIDogbnVsbCxcbiAgICAgIGxhdGl0dWRlOiBoYXNMb2NhdGlvbiA/IHJvdy5fbGF0aXR1ZGUgOiBudWxsLFxuICAgICAgbG9uZ2l0dWRlOiBoYXNMb2NhdGlvbiA/IHJvdy5fbG9uZ2l0dWRlIDogbnVsbCxcbiAgICAgIGFsdGl0dWRlOiB0b051bWJlcihyb3cuX2FsdGl0dWRlKSxcbiAgICAgIGRpcmVjdGlvbjogdG9OdW1iZXIocm93Ll9kaXJlY3Rpb24pLFxuICAgICAgYWNjdXJhY3k6IHRvTnVtYmVyKHJvdy5fYWNjdXJhY3kpLFxuICAgICAgd2lkdGg6IHJvdy5fd2lkdGgsXG4gICAgICBoZWlnaHQ6IHJvdy5faGVpZ2h0LFxuICAgICAgbWFrZTogcm93Ll9tYWtlLFxuICAgICAgbW9kZWw6IHJvdy5fbW9kZWwsXG4gICAgICBzb2Z0d2FyZTogcm93Ll9zb2Z0d2FyZSxcbiAgICAgIGRhdGVfdGltZTogcm93Ll9kYXRlVGltZVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgdmlkZW8ocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93Ll9yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgYWNjZXNzX2tleTogcm93LmlkLFxuICAgICAgcmVjb3JkX2lkOiByb3cuX3JlY29yZFJvd0lELFxuICAgICAgcmVjb3JkX3Jlc291cmNlX2lkOiByb3cuX3JlY29yZElELFxuICAgICAgZm9ybV9pZDogcm93Ll9mb3JtUm93SUQsXG4gICAgICBmb3JtX3Jlc291cmNlX2lkOiByb3cuX2Zvcm1JRCxcbiAgICAgIG1ldGFkYXRhOiB0aGlzLmpzb25WYWx1ZShyb3cuX21ldGFkYXRhKSxcbiAgICAgIGhhc190cmFjazogcm93Ll9oYXNUcmFjayxcbiAgICAgIHRyYWNrOiB0aGlzLmpzb25WYWx1ZShyb3cuX3RyYWNrSlNPTiksXG4gICAgICBmaWxlX3NpemU6IHJvdy5fZmlsZVNpemUsXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcbiAgICAgIHVwZGF0ZWRfYnlfaWQ6IHJvdy5fdXBkYXRlZEJ5Um93SUQsXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGZpbGU6IHJvdy5fZmlsZVBhdGgsXG4gICAgICBjb250ZW50X3R5cGU6IHJvdy5fY29udGVudFR5cGUsXG4gICAgICBpc191cGxvYWRlZDogcm93Ll9pc1VwbG9hZGVkLFxuICAgICAgaXNfc3RvcmVkOiByb3cuX2lzU3RvcmVkLFxuICAgICAgaXNfcHJvY2Vzc2VkOiByb3cuX2lzUHJvY2Vzc2VkLFxuICAgICAgZ2VvbWV0cnk6IHRoaXMudHJhY2tHZW9tZXRyeShyb3cuX3RyYWNrSlNPTiksXG4gICAgICB3aWR0aDogcm93Ll93aWR0aCxcbiAgICAgIGhlaWdodDogcm93Ll9oZWlnaHQsXG4gICAgICBkdXJhdGlvbjogcm93Ll9kdXJhdGlvbixcbiAgICAgIGJpdF9yYXRlOiByb3cuX2JpdFJhdGVcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGF1ZGlvKHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5fcm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIGFjY2Vzc19rZXk6IHJvdy5pZCxcbiAgICAgIHJlY29yZF9pZDogcm93Ll9yZWNvcmRSb3dJRCxcbiAgICAgIHJlY29yZF9yZXNvdXJjZV9pZDogcm93Ll9yZWNvcmRJRCxcbiAgICAgIGZvcm1faWQ6IHJvdy5fZm9ybVJvd0lELFxuICAgICAgZm9ybV9yZXNvdXJjZV9pZDogcm93Ll9mb3JtSUQsXG4gICAgICBtZXRhZGF0YTogdGhpcy5qc29uVmFsdWUocm93Ll9tZXRhZGF0YSksXG4gICAgICBoYXNfdHJhY2s6IHJvdy5faGFzVHJhY2ssXG4gICAgICB0cmFjazogdGhpcy5qc29uVmFsdWUocm93Ll90cmFja0pTT04pLFxuICAgICAgZmlsZV9zaXplOiByb3cuX2ZpbGVTaXplLFxuICAgICAgY3JlYXRlZF9ieV9pZDogcm93Ll9jcmVhdGVkQnlSb3dJRCxcbiAgICAgIGNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fY3JlYXRlZEJ5SUQsXG4gICAgICB1cGRhdGVkX2J5X2lkOiByb3cuX3VwZGF0ZWRCeVJvd0lELFxuICAgICAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll91cGRhdGVkQnlJRCxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBmaWxlOiByb3cuX2ZpbGVQYXRoLFxuICAgICAgY29udGVudF90eXBlOiByb3cuX2NvbnRlbnRUeXBlLFxuICAgICAgaXNfdXBsb2FkZWQ6IHJvdy5faXNVcGxvYWRlZCxcbiAgICAgIGlzX3N0b3JlZDogcm93Ll9pc1N0b3JlZCxcbiAgICAgIGlzX3Byb2Nlc3NlZDogcm93Ll9pc1Byb2Nlc3NlZCxcbiAgICAgIGdlb21ldHJ5OiB0aGlzLnRyYWNrR2VvbWV0cnkocm93Ll90cmFja0pTT04pLFxuICAgICAgZHVyYXRpb246IHJvdy5fZHVyYXRpb24sXG4gICAgICBiaXRfcmF0ZTogcm93Ll9iaXRSYXRlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBzaWduYXR1cmUocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBhY2Nlc3Nfa2V5OiByb3cuaWQsXG4gICAgICByZWNvcmRfaWQ6IHJvdy5fcmVjb3JkUm93SUQsXG4gICAgICByZWNvcmRfcmVzb3VyY2VfaWQ6IHJvdy5fcmVjb3JkSUQsXG4gICAgICBmb3JtX2lkOiByb3cuX2Zvcm1Sb3dJRCxcbiAgICAgIGZvcm1fcmVzb3VyY2VfaWQ6IHJvdy5fZm9ybUlELFxuICAgICAgZmlsZV9zaXplOiByb3cuX2ZpbGVTaXplLFxuICAgICAgY3JlYXRlZF9ieV9pZDogcm93Ll9jcmVhdGVkQnlSb3dJRCxcbiAgICAgIGNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fY3JlYXRlZEJ5SUQsXG4gICAgICB1cGRhdGVkX2J5X2lkOiByb3cuX3VwZGF0ZWRCeVJvd0lELFxuICAgICAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll91cGRhdGVkQnlJRCxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBmaWxlOiByb3cuX2ZpbGVQYXRoLFxuICAgICAgY29udGVudF90eXBlOiByb3cuX2NvbnRlbnRUeXBlLFxuICAgICAgaXNfdXBsb2FkZWQ6IHJvdy5faXNVcGxvYWRlZCxcbiAgICAgIGlzX3N0b3JlZDogcm93Ll9pc1N0b3JlZCxcbiAgICAgIGlzX3Byb2Nlc3NlZDogcm93Ll9pc1Byb2Nlc3NlZFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgY2hhbmdlc2V0KHJvdykge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tRnJvbUdlb0pTT04ocm93LmJvdW5kaW5nQm94QXNHZW9KU09OKTtcblxuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgZm9ybV9pZDogcm93Ll9mb3JtUm93SUQsXG4gICAgICBmb3JtX3Jlc291cmNlX2lkOiByb3cuX2Zvcm1JRCxcbiAgICAgIG1ldGFkYXRhOiB0aGlzLmpzb25WYWx1ZShyb3cuX21ldGFkYXRhKSxcbiAgICAgIGNsb3NlZF9hdDogcm93Ll9jbG9zZWRBdCxcbiAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJvdy5fY3JlYXRlZEJ5Um93SUQsXG4gICAgICBjcmVhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX2NyZWF0ZWRCeUlELFxuICAgICAgdXBkYXRlZF9ieV9pZDogcm93Ll91cGRhdGVkQnlSb3dJRCxcbiAgICAgIHVwZGF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fdXBkYXRlZEJ5SUQsXG4gICAgICBjbG9zZWRfYnlfaWQ6IHJvdy5fY2xvc2VkQnlSb3dJRCxcbiAgICAgIGNsb3NlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jbG9zZWRCeUlELFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIG1pbl9sYXQ6IHJvdy5fbWluTGF0LFxuICAgICAgbWF4X2xhdDogcm93Ll9tYXhMYXQsXG4gICAgICBtaW5fbG9uOiByb3cuX21pbkxvbixcbiAgICAgIG1heF9sb246IHJvdy5fbWF4TG9uLFxuICAgICAgbnVtYmVyX29mX2NoYW5nZXM6IHJvdy5fbnVtYmVyT2ZDaGFuZ2VzLFxuICAgICAgbnVtYmVyX29mX2NyZWF0ZXM6IHJvdy5fbnVtYmVyT2ZDcmVhdGVzLFxuICAgICAgbnVtYmVyX29mX3VwZGF0ZXM6IHJvdy5fbnVtYmVyT2ZVcGRhdGVzLFxuICAgICAgbnVtYmVyX29mX2RlbGV0ZXM6IHJvdy5fbnVtYmVyT2ZEZWxldGVzLFxuICAgICAgbWV0YWRhdGFfaW5kZXhfdGV4dDogcm93Ll9tZXRhZGF0YUluZGV4VGV4dCxcbiAgICAgIG1ldGFkYXRhX2luZGV4OiB7cmF3OiBgdG9fdHN2ZWN0b3IoJHsgcGdmb3JtYXQoJyVMJywgcm93Ll9tZXRhZGF0YUluZGV4VGV4dCkgfSlgfSxcbiAgICAgIGJvdW5kaW5nX2JveDogZ2VvbWV0cnkgPyB7cmF3OiB0aGlzLmdlb21Gcm9tR2VvSlNPTihyb3cuYm91bmRpbmdCb3hBc0dlb0pTT04pfSA6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGNob2ljZUxpc3Qocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBuYW1lOiByb3cuX25hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogcm93Ll9kZXNjcmlwdGlvbixcbiAgICAgIHZlcnNpb246IHJvdy5fdmVyc2lvbixcbiAgICAgIGl0ZW1zOiB0aGlzLmpzb25WYWx1ZShyb3cuX2Nob2ljZXNKU09OKSxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBkZWxldGVkX2F0OiByb3cuX2RlbGV0ZWRBdFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgY2xhc3NpZmljYXRpb25TZXQocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBuYW1lOiByb3cuX25hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogcm93Ll9kZXNjcmlwdGlvbixcbiAgICAgIHZlcnNpb246IHJvdy5fdmVyc2lvbixcbiAgICAgIGl0ZW1zOiB0aGlzLmpzb25WYWx1ZShyb3cuX2l0ZW1zSlNPTiksXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgZGVsZXRlZF9hdDogcm93Ll9kZWxldGVkQXRcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGZvcm0ocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBuYW1lOiByb3cuX25hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogcm93Ll9kZXNjcmlwdGlvbixcbiAgICAgIHZlcnNpb246IHJvdy5fdmVyc2lvbixcbiAgICAgIGVsZW1lbnRzOiB0aGlzLmpzb25WYWx1ZShyb3cuX2VsZW1lbnRzSlNPTiksXG4gICAgICBzdGF0dXM6IHJvdy5fc3RhdHVzLFxuICAgICAgc3RhdHVzX2ZpZWxkOiB0aGlzLmpzb25WYWx1ZShyb3cuX3N0YXR1c0ZpZWxkSlNPTiksXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgZGVsZXRlZF9hdDogcm93Ll9kZWxldGVkQXQsXG4gICAgICBhdXRvX2Fzc2lnbjogcm93Ll9hdXRvQXNzaWduLFxuICAgICAgdGl0bGVfZmllbGRfa2V5czogdGhpcy5qc29uVmFsdWUocm93Ll90aXRsZUZpZWxkS2V5cyksXG4gICAgICBoaWRkZW5fb25fZGFzaGJvYXJkOiByb3cuX2hpZGRlbk9uRGFzaGJvYXJkLFxuICAgICAgZ2VvbWV0cnlfdHlwZXM6IHRoaXMuanNvblZhbHVlKHJvdy5fZ2VvbWV0cnlUeXBlcyksXG4gICAgICBnZW9tZXRyeV9yZXF1aXJlZDogcm93Ll9nZW9tZXRyeVJlcXVpcmVkLFxuICAgICAgc2NyaXB0OiByb3cuX3NjcmlwdCxcbiAgICAgIGltYWdlOiByb3cuX2ltYWdlLFxuICAgICAgcHJvamVjdHNfZW5hYmxlZDogISFyb3cuX3Byb2plY3RFbmFibGVkLFxuICAgICAgYXNzaWdubWVudF9lbmFibGVkOiAhIXJvdy5fYXNzaWdubWVudEVuYWJsZWRcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHByb2plY3Qocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBuYW1lOiByb3cuX25hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogcm93Ll9kZXNjcmlwdGlvbixcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBkZWxldGVkX2F0OiByb3cuX2RlbGV0ZWRBdFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgcm9sZShyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIG5hbWU6IHJvdy5fbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiByb3cuX2Rlc2NyaXB0aW9uLFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGRlbGV0ZWRfYXQ6IHJvdy5fZGVsZXRlZEF0LFxuICAgICAgaXNfc3lzdGVtOiByb3cuX2lzU3lzdGVtLFxuICAgICAgaXNfZGVmYXVsdDogcm93Ll9pc0RlZmF1bHQsXG4gICAgICBjYW5fbWFuYWdlX3N1YnNjcmlwdGlvbjogcm93LmNhbk1hbmFnZVN1YnNjcmlwdGlvbixcbiAgICAgIGNhbl91cGRhdGVfb3JnYW5pemF0aW9uOiByb3cuY2FuVXBkYXRlT3JnYW5pemF0aW9uLFxuICAgICAgY2FuX21hbmFnZV9tZW1iZXJzOiByb3cuY2FuTWFuYWdlTWVtYmVycyxcbiAgICAgIGNhbl9tYW5hZ2Vfcm9sZXM6IHJvdy5jYW5NYW5hZ2VSb2xlcyxcbiAgICAgIGNhbl9tYW5hZ2VfYXBwczogcm93LmNhbk1hbmFnZUFwcHMsXG4gICAgICBjYW5fbWFuYWdlX3Byb2plY3RzOiByb3cuY2FuTWFuYWdlUHJvamVjdHMsXG4gICAgICBjYW5fbWFuYWdlX2Nob2ljZV9saXN0czogcm93LmNhbk1hbmFnZUNob2ljZUxpc3RzLFxuICAgICAgY2FuX21hbmFnZV9jbGFzc2lmaWNhdGlvbl9zZXRzOiByb3cuY2FuTWFuYWdlQ2xhc3NpZmljYXRpb25TZXRzLFxuICAgICAgY2FuX2NyZWF0ZV9yZWNvcmRzOiByb3cuY2FuQ3JlYXRlUmVjb3JkcyxcbiAgICAgIGNhbl91cGRhdGVfcmVjb3Jkczogcm93LmNhblVwZGF0ZVJlY29yZHMsXG4gICAgICBjYW5fZGVsZXRlX3JlY29yZHM6IHJvdy5jYW5EZWxldGVSZWNvcmRzLFxuICAgICAgY2FuX2NoYW5nZV9zdGF0dXM6IHJvdy5jYW5DaGFuZ2VTdGF0dXMsXG4gICAgICBjYW5fY2hhbmdlX3Byb2plY3Q6IHJvdy5jYW5DaGFuZ2VQcm9qZWN0LFxuICAgICAgY2FuX2Fzc2lnbl9yZWNvcmRzOiByb3cuY2FuQXNzaWduUmVjb3JkcyxcbiAgICAgIGNhbl9pbXBvcnRfcmVjb3Jkczogcm93LmNhbkltcG9ydFJlY29yZHMsXG4gICAgICBjYW5fZXhwb3J0X3JlY29yZHM6IHJvdy5jYW5FeHBvcnRSZWNvcmRzLFxuICAgICAgY2FuX3J1bl9yZXBvcnRzOiByb3cuY2FuUnVuUmVwb3J0c1xuICAgIH07XG4gIH1cblxuICBzdGF0aWMgbWVtYmVyc2hpcChyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIHVzZXJfcmVzb3VyY2VfaWQ6IHJvdy5fdXNlcklELFxuICAgICAgZmlyc3RfbmFtZTogcm93Ll9maXJzdE5hbWUsXG4gICAgICBsYXN0X25hbWU6IHJvdy5fbGFzdE5hbWUsXG4gICAgICBuYW1lOiAocm93Ll9maXJzdE5hbWUgfHwgJycpICsgJyAnICsgKHJvdy5fbGFzdE5hbWUgfHwgJycpLFxuICAgICAgZW1haWw6IHJvdy5fZW1haWwsXG4gICAgICByb2xlX2lkOiByb3cuX3JvbGVSb3dJRCxcbiAgICAgIHJvbGVfcmVzb3VyY2VfaWQ6IHJvdy5fcm9sZUlELFxuICAgICAgc3RhdHVzOiByb3cuc3RhdHVzLFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGRlbGV0ZWRfYXQ6IHJvdy5fZGVsZXRlZEF0XG4gICAgfTtcbiAgfVxufVxuIl19